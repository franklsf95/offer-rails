(function(){var e,t,n,r,i,s,o;n=$("#more-wrapper"),i=$("#person-wrapper"),s=$("#user_name"),t=$("#check"),r=$("#user_person_id"),e=$("#btn-submit"),$(function(){return s.change(o),$("form").keypress(function(e){if(e.keyCode===13)return o()})}),o=function(){var i;return t.html(""),i=s.val(),i===""&&(t.append("<li>请先输入姓名</li>"),n.slideUp(),e.attr("disabled","disabled")),$.getJSON("/people/available",{person:i},function(i){return i<=0?(i===0?t.append('<span class="label label-important"><i class="icon-remove icon-white"></i></span> 不存在这个人名。请<a href="/offers/new">先添加一条 offer 记录</a>。'):t.append('<span class="label label-important"><i class="icon-remove icon-white"></i></span> 这个人名已注册账户。'),n.slideUp(),e.attr("disabled","disabled")):(t.append('<span class="label label-success"><i class="icon-ok icon-white"></i></span> 这个人名可用。'),r.val(i),e.removeAttr("disabled"),n.slideDown())}),!1}}).call(this);